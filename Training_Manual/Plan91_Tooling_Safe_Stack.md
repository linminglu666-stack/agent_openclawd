# Plan91 工具型方案：安全必备工具栈（围绕当前架构）

## 1. 目标
- 为 OpenClawd 提供低风险、可审计、可持久化的必备工具能力。
- 明确“允许工具”和“禁用工具”边界。

## 2. 工具边界
- 仅纳入低风险、可审计、可回滚工具。
- 禁止高风险工具：远控木马类、破解类、绕过权限类、未知来源二进制、隐私窃取类。

## 3. 必备工具清单（工具型子计划）
1. Plan91-01：Chrome/Chromium 扩展生命周期管理器（安装/启停/更新/回滚）。
2. Plan91-02：浏览器插件签名与来源校验器。
3. Plan91-03：网页抓取与正文抽取工具（白名单域名）。
4. Plan91-04：SearXNG 检索适配器（免费优先）。
5. Plan91-05：Wikipedia API 适配器。
6. Plan91-06：RSS/Atom 聚合采集器。
7. Plan91-07：文档格式转换工具（md/pdf/docx 到统一文本）。
8. Plan91-08：结构化解析工具（JSON/YAML/TOML schema 校验）。
9. Plan91-09：SQLite 备份与恢复工具。
10. Plan91-10：事件日志轮转与压缩工具。
11. Plan91-11：任务队列可视化诊断工具。
12. Plan91-12：Run/NodeRun 回放工具。
13. Plan91-13：证据索引构建器。
14. Plan91-14：知识图谱增量构建器。
15. Plan91-15：记忆城堡快照管理器。
16. Plan91-16：缓存命中分析器。
17. Plan91-17：成本计量器（token/cpu/io）。
18. Plan91-18：性能剖析器（P95/P99）。
19. Plan91-19：SSE 事件监控器。
20. Plan91-20：告警路由器（邮件/IM/Webhook）。
21. Plan91-21：RBAC 策略校验工具。
22. Plan91-22：审计日志完整性校验器（hash chain）。
23. Plan91-23：敏感信息脱敏工具。
24. Plan91-24：依赖与插件 SBOM 生成器。
25. Plan91-25：插件沙箱运行器。
26. Plan91-26：插件资源配额控制器。
27. Plan91-27：配置漂移检测器。
28. Plan91-28：故障注入工具（混沌演练）。
29. Plan91-29：自动回滚执行器。
30. Plan91-30：恢复演练自动化工具。

## 4. 持久化要求
- 每个工具必须输出：`events + audit + metrics + result snapshot`。
- 所有工具执行结果进入统一 evidence 索引。

## 5. 验收
- 工具均可被调度器调用。
- 关键动作可回滚、可追溯。
- 不引入高风险工具。
