# OpenClaw-X å®Œæ•´æ¶æ„æ•´åˆæ–‡æ¡£

## æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£æ•´åˆäº†äº‹æ— å·¨ç»†çš„è®¾è®¡æ€è·¯ã€æµç¨‹å›¾ã€å®ç°ç»†èŠ‚ã€æ¨¡å—é—´æ•°æ®æ¥å£ä¸é€šä¿¡åè®®ã€‚

---


# ç¬¬åå››éƒ¨åˆ†ï¼šæœ¬åœ°äº‘ç›˜æ¶æ„è®¾è®¡

## 14.1 è®¾è®¡æ€è·¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœ¬åœ°äº‘ç›˜è®¾è®¡ç›®æ ‡                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  æ ¸å¿ƒç†å¿µ:                                                              â”‚
â”‚  â€¢ å·¥ç¨‹æ–‡ä»¶ä¸é¡¹ç›®æˆæœåˆ†ç¦» - ä»£ç /é…ç½®ä¸äº§å‡ºç‰©åˆ†å¼€å­˜å‚¨                   â”‚
â”‚  â€¢ é»˜è®¤è¾“å‡ºåˆ°äº‘ç›˜ - éè®­ç»ƒ/ç¨‹åºåˆ†æç±»æ–‡æ¡£è‡ªåŠ¨å­˜å…¥äº‘ç›˜                   â”‚
â”‚  â€¢ å¼ºçº¦æŸè·¯ç”± - é€šè¿‡OutputRouterå¼ºåˆ¶çº¦æŸè¾“å‡ºä½ç½®                        â”‚
â”‚  â€¢ æœ¬åœ°ä¼˜å…ˆ - æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œæ”¯æŒç¦»çº¿è®¿é—®                              â”‚
â”‚                                                                         â”‚
â”‚  å­˜å‚¨åˆ†ç±»:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç±»åˆ«          â”‚ å­˜å‚¨ä½ç½®    â”‚ ç¤ºä¾‹                              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ å·¥ç¨‹æ–‡ä»¶      â”‚ workspace/  â”‚ ä»£ç ã€é…ç½®ã€è„šæœ¬                  â”‚   â”‚
â”‚  â”‚ é¡¹ç›®æˆæœ      â”‚ cloudrive/  â”‚ ExcelæŠ¥å‘Šã€ç”Ÿæˆçš„æ–‡æ¡£ã€å›¾è¡¨      â”‚   â”‚
â”‚  â”‚ ä¸´æ—¶æ–‡ä»¶      â”‚ temp/       â”‚ ä¸­é—´äº§ç‰©ã€ç¼“å­˜                    â”‚   â”‚
â”‚  â”‚ è®­ç»ƒæ•°æ®      â”‚ datasets/   â”‚ æ¨¡å‹è®­ç»ƒæ•°æ®ã€æ ‡æ³¨                â”‚   â”‚
â”‚  â”‚ ç¨‹åºåˆ†ææ–‡æ¡£  â”‚ analysis/   â”‚ éœ€æ±‚åˆ†æã€æ¶æ„æ–‡æ¡£                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 14.2 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœ¬åœ°äº‘ç›˜æ¶æ„                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      å‰ç«¯äº¤äº’å±‚                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚èµ„æºç®¡ç†å™¨ â”‚  â”‚ æ–‡ä»¶é¢„è§ˆ  â”‚  â”‚ ä¸Šä¼ ä¸‹è½½  â”‚  â”‚ åˆ†äº«ç®¡ç†  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      APIæœåŠ¡å±‚                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ FileAPI   â”‚  â”‚ FolderAPI â”‚  â”‚ ShareAPI  â”‚  â”‚ SearchAPI â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      æœåŠ¡å±‚                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚CloudDrive â”‚  â”‚OutputRouterâ”‚ â”‚Thumbnail  â”‚  â”‚Versioning â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Service   â”‚  â”‚ (å¼ºçº¦æŸ)  â”‚  â”‚ Service   â”‚  â”‚ Service   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                          â”‚
â”‚                              â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      å­˜å‚¨æ¡†æ¶å±‚                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚LocalStorageâ”‚ â”‚S3Adapter  â”‚ â”‚ MetadataDBâ”‚ â”‚ FileIndex  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ (é»˜è®¤)    â”‚  â”‚ (å¯é€‰)    â”‚  â”‚ (SQLite)  â”‚  â”‚ (Whoosh)  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 14.3 è¾“å‡ºè·¯ç”±å¼ºçº¦æŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OutputRouter è·¯ç”±è§„åˆ™                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  è·¯ç”±å†³ç­–æµç¨‹:                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  è¾“å‡ºå†…å®¹ â†’ OutputRouter.classify() â†’ è·¯ç”±ç›®æ ‡                         â”‚
â”‚                                                                         â”‚
â”‚  åˆ†ç±»è§„åˆ™:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ è¾“å‡ºç±»å‹              â”‚ åˆ†ç±»æ¡ä»¶              â”‚ è·¯ç”±ç›®æ ‡       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ å·¥ç¨‹ä»£ç               â”‚ .py/.js/.ts/.goç­‰     â”‚ workspace/     â”‚   â”‚
â”‚  â”‚ é…ç½®æ–‡ä»¶              â”‚ .yaml/.json/.toml     â”‚ workspace/     â”‚   â”‚
â”‚  â”‚ è®­ç»ƒæ•°æ®/æ¨¡å‹         â”‚ è®­ç»ƒä»»åŠ¡äº§å‡º          â”‚ datasets/      â”‚   â”‚
â”‚  â”‚ ç¨‹åºéœ€æ±‚åˆ†ææ–‡æ¡£      â”‚ æ˜ç¡®æŒ‡å®šåˆ†ææ–‡æ¡£      â”‚ analysis/      â”‚   â”‚
â”‚  â”‚ Excel/CSVæŠ¥å‘Š         â”‚ æ•°æ®å¤„ç†äº§å‡º          â”‚ cloudrive/     â”‚   â”‚
â”‚  â”‚ ç”Ÿæˆæ–‡æ¡£              â”‚ .docx/.pdf/.mdæŠ¥å‘Š    â”‚ cloudrive/     â”‚   â”‚
â”‚  â”‚ å›¾è¡¨/å›¾ç‰‡             â”‚ .png/.jpg/.svgç­‰      â”‚ cloudrive/     â”‚   â”‚
â”‚  â”‚ å‹ç¼©åŒ…                â”‚ .zip/.tar.gzç­‰        â”‚ cloudrive/     â”‚   â”‚
â”‚  â”‚ å…¶ä»–äº§å‡ºç‰©            â”‚ éå·¥ç¨‹æ–‡ä»¶            â”‚ cloudrive/     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  å¼ºçº¦æŸå®ç°:                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ æ‰€æœ‰è¾“å‡ºå¿…é¡»ç»è¿‡OutputRouter                                         â”‚
â”‚  â€¢ ç¦æ­¢ç›´æ¥å†™å…¥æ–‡ä»¶ç³»ç»Ÿ                                                 â”‚
â”‚  â€¢ è¿è§„æ“ä½œè®°å½•å®¡è®¡æ—¥å¿—                                                 â”‚
â”‚  â€¢ æ”¯æŒç”¨æˆ·æ‰‹åŠ¨è¦†ç›–è·¯ç”±                                                 â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è·¯ç”±è§„åˆ™é…ç½®

```yaml
output_router:
  rules:
    - pattern: "\\.py$|\\.js$|\\.ts$|\\.go$|\\.java$"
      target: "workspace"
      priority: 100
      
    - pattern: "\\.yaml$|\\.yml$|\\.json$|\\.toml$"
      target: "workspace"
      priority: 90
      
    - pattern: "\\.xlsx$|\\.xls$|\\.csv$"
      target: "cloudrive"
      priority: 80
      
    - pattern: "\\.docx$|\\.pdf$|\\.pptx$"
      target: "cloudrive"
      priority: 80
      
    - pattern: "\\.png$|\\.jpg$|\\.svg$|\\.gif$"
      target: "cloudrive"
      priority: 70
      
    - pattern: "\\.zip$|\\.tar\\.gz$|\\.rar$"
      target: "cloudrive"
      priority: 60
      
  special_rules:
    training_output:
      condition: "task_type == 'training'"
      target: "datasets"
      
    analysis_document:
      condition: "task_type == 'analysis' and user_specified == true"
      target: "analysis"
      
  default_target: "cloudrive"
```

## 14.4 å­˜å‚¨æ¡†æ¶è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å­˜å‚¨æ¡†æ¶æŠ½è±¡å±‚                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Provideræ¥å£:                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  class StorageProvider(Protocol):                                       â”‚
â”‚      async def read(self, path: str) -> bytes                          â”‚
â”‚      async def write(self, path: str, data: bytes) -> str              â”‚
â”‚      async def delete(self, path: str) -> bool                         â”‚
â”‚      async def exists(self, path: str) -> bool                         â”‚
â”‚      async def list(self, prefix: str) -> List[FileInfo]               â”‚
â”‚      async def move(self, src: str, dst: str) -> bool                  â”‚
â”‚      async def copy(self, src: str, dst: str) -> bool                  â”‚
â”‚      async def get_metadata(self, path: str) -> FileMetadata           â”‚
â”‚      async def get_url(self, path: str, expires: int) -> str           â”‚
â”‚                                                                         â”‚
â”‚  å®ç°ç±»:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ LocalStorage      - æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨ (é»˜è®¤)                      â”‚   â”‚
â”‚  â”‚ S3Storage         - AWS S3å…¼å®¹å­˜å‚¨                               â”‚   â”‚
â”‚  â”‚ MinIOStorage      - MinIOå¯¹è±¡å­˜å‚¨                                â”‚   â”‚
â”‚  â”‚ HybridStorage     - æ··åˆå­˜å‚¨ (æœ¬åœ°+äº‘ç«¯)                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶å…ƒæ•°æ®ç»“æ„

```python
@dataclass
class FileMetadata:
    file_id: str
    name: str
    path: str
    size: int
    content_type: str
    checksum: str
    created_at: int
    updated_at: int
    owner_id: str
    is_directory: bool
    tags: List[str]
    metadata: Dict[str, Any]

@dataclass
class FileInfo:
    name: str
    path: str
    size: int
    is_directory: bool
    modified_at: int
    content_type: Optional[str]
```

## 14.5 äº‘ç›˜æœåŠ¡åç«¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CloudDriveService æ ¸å¿ƒåŠŸèƒ½                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  æ–‡ä»¶æ“ä½œ:                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ upload(file, path)      - ä¸Šä¼ æ–‡ä»¶                                  â”‚
â”‚  â€¢ download(file_id)       - ä¸‹è½½æ–‡ä»¶                                  â”‚
â”‚  â€¢ delete(file_id)         - åˆ é™¤æ–‡ä»¶                                  â”‚
â”‚  â€¢ move(file_id, new_path) - ç§»åŠ¨æ–‡ä»¶                                  â”‚
â”‚  â€¢ copy(file_id, new_path) - å¤åˆ¶æ–‡ä»¶                                  â”‚
â”‚  â€¢ rename(file_id, name)   - é‡å‘½å                                    â”‚
â”‚                                                                         â”‚
â”‚  ç›®å½•æ“ä½œ:                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ create_folder(path, name)       - åˆ›å»ºç›®å½•                          â”‚
â”‚  â€¢ list_folder(folder_id)          - åˆ—å‡ºç›®å½•å†…å®¹                      â”‚
â”‚  â€¢ delete_folder(folder_id)        - åˆ é™¤ç›®å½•                          â”‚
â”‚  â€¢ get_tree(root_id)               - è·å–ç›®å½•æ ‘                        â”‚
â”‚                                                                         â”‚
â”‚  æœç´¢åŠŸèƒ½:                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ search(query, filters)          - å…¨æ–‡æœç´¢                          â”‚
â”‚  â€¢ search_by_tag(tags)             - æ ‡ç­¾æœç´¢                          â”‚
â”‚  â€¢ search_by_date_range(start, end)- æ—¶é—´èŒƒå›´æœç´¢                      â”‚
â”‚                                                                         â”‚
â”‚  åˆ†äº«åŠŸèƒ½:                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ create_share(file_id, options)  - åˆ›å»ºåˆ†äº«é“¾æ¥                      â”‚
â”‚  â€¢ get_share_info(share_id)        - è·å–åˆ†äº«ä¿¡æ¯                      â”‚
â”‚  â€¢ revoke_share(share_id)          - æ’¤é”€åˆ†äº«                          â”‚
â”‚                                                                         â”‚
â”‚  ç‰ˆæœ¬ç®¡ç†:                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ list_versions(file_id)          - åˆ—å‡ºç‰ˆæœ¬å†å²                      â”‚
â”‚  â€¢ get_version(file_id, version)   - è·å–æŒ‡å®šç‰ˆæœ¬                      â”‚
â”‚  â€¢ restore_version(file_id, ver)   - æ¢å¤åˆ°æŒ‡å®šç‰ˆæœ¬                    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 14.6 å‰ç«¯èµ„æºç®¡ç†å™¨è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    èµ„æºç®¡ç†å™¨UIå¸ƒå±€                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å·¥å…·æ : [ä¸Šä¼ ] [æ–°å»ºæ–‡ä»¶å¤¹] [æœç´¢...] [è§†å›¾åˆ‡æ¢] [åˆ·æ–°]          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ ä¾§è¾¹æ    â”‚  â”‚ æ–‡ä»¶åˆ—è¡¨åŒº                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚          â”‚  â”‚                                            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â–¶ å…¨éƒ¨æ–‡ä»¶â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â–¶ æœ€è¿‘   â”‚  â”‚ â”‚ å›¾æ ‡ â”‚ åç§°     â”‚ å¤§å°   â”‚ ä¿®æ”¹æ—¶é—´ â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â–¶ æ”¶è—   â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â–¶ åˆ†äº«   â”‚  â”‚ â”‚ ğŸ“   â”‚ æŠ¥å‘Š     â”‚ -      â”‚ 2026-02  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â–¶ å›æ”¶ç«™ â”‚  â”‚ â”‚ ğŸ“„   â”‚ æ•°æ®.xlsxâ”‚ 125KB  â”‚ 2026-02  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚          â”‚  â”‚ â”‚ ğŸ–¼ï¸   â”‚ å›¾è¡¨.png â”‚ 45KB   â”‚ 2026-02  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ æ ‡ç­¾:    â”‚  â”‚ â”‚ ğŸ“„   â”‚ æŠ¥å‘Š.pdf â”‚ 2.1MB  â”‚ 2026-02  â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ # å·¥ä½œ   â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ # ä¸ªäºº   â”‚  â”‚                                            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚          â”‚  â”‚ å³é”®èœå•: [æ‰“å¼€][ä¸‹è½½][åˆ†äº«][é‡å‘½å][åˆ é™¤] â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ çŠ¶æ€æ : å…± 128 ä¸ªæ–‡ä»¶ | å·²ç”¨ 2.5GB / 10GB                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰ç«¯ç»„ä»¶ç»“æ„

```
components/
â”œâ”€â”€ FileManager/
â”‚   â”œâ”€â”€ index.tsx              # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ Toolbar.tsx            # å·¥å…·æ 
â”‚   â”œâ”€â”€ Sidebar.tsx            # ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ FileList.tsx           # æ–‡ä»¶åˆ—è¡¨
â”‚   â”œâ”€â”€ FileGrid.tsx           # ç½‘æ ¼è§†å›¾
â”‚   â”œâ”€â”€ FilePreview.tsx        # æ–‡ä»¶é¢„è§ˆ
â”‚   â”œâ”€â”€ UploadModal.tsx        # ä¸Šä¼ å¼¹çª—
â”‚   â”œâ”€â”€ ShareModal.tsx         # åˆ†äº«å¼¹çª—
â”‚   â”œâ”€â”€ ContextMenu.tsx        # å³é”®èœå•
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useFileManager.ts  # æ–‡ä»¶ç®¡ç†Hook
â”‚       â”œâ”€â”€ useUpload.ts       # ä¸Šä¼ Hook
â”‚       â””â”€â”€ useSearch.ts       # æœç´¢Hook
```

## 14.7 APIæ¥å£è®¾è®¡

### æ–‡ä»¶æ“ä½œAPI

```yaml
# æ–‡ä»¶ä¸Šä¼ 
POST /api/v1/cloudrive/files
  Request:
    Content-Type: multipart/form-data
    file: binary
    path: string (optional)
    tags: string[] (optional)
  Response:
    file_id: string
    name: string
    path: string
    size: int
    url: string

# æ–‡ä»¶ä¸‹è½½
GET /api/v1/cloudrive/files/{file_id}/download
  Response:
    Content-Type: application/octet-stream
    Content-Disposition: attachment; filename="xxx"

# æ–‡ä»¶åˆ—è¡¨
GET /api/v1/cloudrive/files
  Query:
    folder_id: string (optional)
    page: int
    page_size: int
    sort_by: name|size|modified_at
    sort_order: asc|desc
  Response:
    items: FileInfo[]
    total: int
    page: int
    page_size: int

# æ–‡ä»¶æœç´¢
GET /api/v1/cloudrive/files/search
  Query:
    q: string
    tags: string[] (optional)
    content_type: string (optional)
    date_from: int (optional)
    date_to: int (optional)
  Response:
    items: FileInfo[]
    total: int

# æ–‡ä»¶åˆ é™¤
DELETE /api/v1/cloudrive/files/{file_id}
  Response:
    success: bool

# æ–‡ä»¶ç§»åŠ¨
POST /api/v1/cloudrive/files/{file_id}/move
  Request:
    target_folder_id: string
  Response:
    success: bool
    new_path: string

# æ–‡ä»¶é‡å‘½å
PUT /api/v1/cloudrive/files/{file_id}/rename
  Request:
    name: string
  Response:
    success: bool
```

### ç›®å½•æ“ä½œAPI

```yaml
# åˆ›å»ºç›®å½•
POST /api/v1/cloudrive/folders
  Request:
    name: string
    parent_id: string (optional)
  Response:
    folder_id: string
    name: string
    path: string

# è·å–ç›®å½•æ ‘
GET /api/v1/cloudrive/folders/tree
  Query:
    root_id: string (optional)
    depth: int (default: 3)
  Response:
    tree: FolderNode[]

# åˆ é™¤ç›®å½•
DELETE /api/v1/cloudrive/folders/{folder_id}
  Query:
    force: bool (delete non-empty)
  Response:
    success: bool
```

### åˆ†äº«API

```yaml
# åˆ›å»ºåˆ†äº«
POST /api/v1/cloudrive/shares
  Request:
    file_id: string
    expire_in: int (seconds, optional)
    password: string (optional)
    max_downloads: int (optional)
  Response:
    share_id: string
    share_url: string
    expire_at: int

# è·å–åˆ†äº«ä¿¡æ¯
GET /api/v1/cloudrive/shares/{share_id}
  Query:
    password: string (optional)
  Response:
    file_info: FileInfo
    download_url: string

# æˆ‘çš„åˆ†äº«åˆ—è¡¨
GET /api/v1/cloudrive/shares
  Response:
    items: ShareInfo[]
```

## 14.8 æœåŠ¡å®ç°

```python
class CloudDriveService:
    def __init__(self, config: CloudDriveConfig):
        self._storage: StorageProvider
        self._metadata_db: MetadataDB
        self._file_index: FileIndex
        self._output_router: OutputRouter
        self._thumbnail_service: ThumbnailService
        self._versioning_service: VersioningService
    
    async def save_output(
        self,
        content: bytes,
        filename: str,
        context: OutputContext,
    ) -> FileMetadata:
        route = self._output_router.route(filename, context)
        
        if route.target == "cloudrive":
            return await self.upload(content, filename, route.path)
        elif route.target == "workspace":
            return await self._save_to_workspace(content, filename, route.path)
        elif route.target == "datasets":
            return await self._save_to_datasets(content, filename, route.path)
        else:
            return await self.upload(content, filename, "/")
    
    async def upload(
        self,
        content: bytes,
        filename: str,
        path: str = "/",
        tags: List[str] = None,
    ) -> FileMetadata:
        file_path = self._normalize_path(path, filename)
        
        file_id = await self._storage.write(file_path, content)
        
        checksum = self._compute_checksum(content)
        
        metadata = FileMetadata(
            file_id=file_id,
            name=filename,
            path=file_path,
            size=len(content),
            content_type=self._detect_content_type(filename),
            checksum=checksum,
            created_at=int(time.time()),
            updated_at=int(time.time()),
            owner_id=self._get_current_user(),
            is_directory=False,
            tags=tags or [],
            metadata={},
        )
        
        await self._metadata_db.save(metadata)
        await self._file_index.index(metadata)
        
        await self._thumbnail_service.generate_async(file_id, content)
        await self._versioning_service.create_version(file_id, content)
        
        return metadata
    
    async def search(
        self,
        query: str,
        filters: Optional[SearchFilters] = None,
    ) -> List[FileInfo]:
        return await self._file_index.search(query, filters)
    
    async def create_share(
        self,
        file_id: str,
        options: ShareOptions,
    ) -> ShareInfo:
        metadata = await self._metadata_db.get(file_id)
        if not metadata:
            raise FileNotFoundError(file_id)
        
        share_id = self._generate_share_id()
        share = ShareInfo(
            share_id=share_id,
            file_id=file_id,
            file_name=metadata.name,
            created_at=int(time.time()),
            expire_at=int(time.time()) + options.expire_in if options.expire_in else None,
            password=options.password,
            max_downloads=options.max_downloads,
            download_count=0,
        )
        
        await self._metadata_db.save_share(share)
        return share
```

## 14.9 æ–‡ä»¶ç»“æ„

```
code/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ provider.py         # StorageProvideræ¥å£
â”‚   â”‚   â”œâ”€â”€ local.py            # LocalStorageå®ç°
â”‚   â”‚   â”œâ”€â”€ s3.py               # S3Storageå®ç°
â”‚   â”‚   â””â”€â”€ hybrid.py           # HybridStorageå®ç°
â”‚   â”‚
â”‚   â”œâ”€â”€ cloudrive/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ service.py          # CloudDriveService
â”‚   â”‚   â”œâ”€â”€ output_router.py    # OutputRouterå¼ºçº¦æŸ
â”‚   â”‚   â”œâ”€â”€ metadata.py         # å…ƒæ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.py            # æ–‡ä»¶ç´¢å¼•
â”‚   â”‚   â”œâ”€â”€ thumbnail.py        # ç¼©ç•¥å›¾æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ versioning.py       # ç‰ˆæœ¬ç®¡ç†
â”‚   â”‚   â””â”€â”€ share.py            # åˆ†äº«æœåŠ¡
â”‚   â”‚
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ cloudrive/
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ files.py        # æ–‡ä»¶API
â”‚           â”œâ”€â”€ folders.py      # ç›®å½•API
â”‚           â”œâ”€â”€ shares.py       # åˆ†äº«API
â”‚           â””â”€â”€ search.py       # æœç´¢API
â”‚
â”œâ”€â”€ web/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ FileManager/    # å‰ç«¯èµ„æºç®¡ç†å™¨ç»„ä»¶
â”‚       â””â”€â”€ pages/
â”‚           â””â”€â”€ CloudDrive/     # äº‘ç›˜é¡µé¢
```

## 14.10 éªŒæ”¶æ ‡å‡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœ¬åœ°äº‘ç›˜éªŒæ”¶æ ‡å‡†                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  å­˜å‚¨èƒ½åŠ›:                                                              â”‚
â”‚  â€¢ æ”¯æŒæ–‡ä»¶å¤§å° â‰¥ 100MB                                                 â”‚
â”‚  â€¢ æ”¯æŒå¹¶å‘ä¸Šä¼  â‰¥ 10ä¸ª                                                  â”‚
â”‚  â€¢ ä¸Šä¼ æ–­ç‚¹ç»­ä¼ æ”¯æŒ                                                     â”‚
â”‚  â€¢ æ–‡ä»¶ç§’ä¼  (checksumå»é‡)                                              â”‚
â”‚                                                                         â”‚
â”‚  è¾“å‡ºè·¯ç”±:                                                              â”‚
â”‚  â€¢ è·¯ç”±å‡†ç¡®ç‡ 100%                                                      â”‚
â”‚  â€¢ è·¯ç”±å»¶è¿Ÿ < 10ms                                                      â”‚
â”‚  â€¢ è¿è§„æ“ä½œæ‹¦æˆªç‡ 100%                                                  â”‚
â”‚                                                                         â”‚
â”‚  æœç´¢åŠŸèƒ½:                                                              â”‚
â”‚  â€¢ æœç´¢å“åº”æ—¶é—´ < 500ms                                                 â”‚
â”‚  â€¢ æ”¯æŒæ–‡ä»¶å/å†…å®¹/æ ‡ç­¾æœç´¢                                             â”‚
â”‚  â€¢ æœç´¢ç»“æœå‡†ç¡®ç‡ â‰¥ 95%                                                 â”‚
â”‚                                                                         â”‚
â”‚  å‰ç«¯äº¤äº’:                                                              â”‚
â”‚  â€¢ æ–‡ä»¶åˆ—è¡¨åŠ è½½ < 1s                                                    â”‚
â”‚  â€¢ æ”¯æŒæ‹–æ‹½ä¸Šä¼                                                          â”‚
â”‚  â€¢ æ”¯æŒæ‰¹é‡æ“ä½œ                                                         â”‚
â”‚  â€¢ æ”¯æŒæ–‡ä»¶é¢„è§ˆ (å›¾ç‰‡/PDF/æ–‡æœ¬)                                         â”‚
â”‚                                                                         â”‚
â”‚  å®‰å…¨æ€§:                                                                â”‚
â”‚  â€¢ åˆ†äº«é“¾æ¥æ”¯æŒå¯†ç ä¿æŠ¤                                                 â”‚
â”‚  â€¢ åˆ†äº«é“¾æ¥æ”¯æŒè¿‡æœŸæ—¶é—´                                                 â”‚
â”‚  â€¢ æ“ä½œå®¡è®¡æ—¥å¿—å®Œæ•´                                                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---
